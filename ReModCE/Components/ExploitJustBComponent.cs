using System;
using System.Collections.Generic;
using System.Linq;
using ReModAres.Core;
using ReModAres.Core.Managers;
using ReModAres.Core.UI.QuickMenu;
using ReModCE_ARES.Loader;
using UnityEngine;
using VRC;
using VRC.Networking;
using VRC.SDK3.Components;
using VRC.SDKBase;
using VRC.Udon;
using VRC.Udon.Common.Interfaces;

namespace ReModCE_ARES.Components
{
    internal class ExploitJustBComponent : ModComponent
    {

        public ExploitJustBComponent()
        {

        }


        public override void OnUiManagerInit(UiManager uiManager)
        {
            base.OnUiManagerInit(uiManager);

            var menu = uiManager.MainMenu.GetMenuPage("ARES");
            var subMenu = menu.GetMenuPage("World Cheats");
            var cheatMenu = subMenu.AddMenuPage("Club B", "Club B Room teleports", ResourceManager.GetSprite("remodce.world"));

            cheatMenu.AddButton($"Room 1", "Teleport to room", Room1, ResourceManager.GetSprite("remodce.exit-door"));

            cheatMenu.AddButton($"Room 2", "Teleport to room", Room2, ResourceManager.GetSprite("remodce.exit-door"));

            cheatMenu.AddButton($"Room 3", "Teleport to room",Room3, ResourceManager.GetSprite("remodce.exit-door"));

            cheatMenu.AddButton($"Room 4", "Teleport to room", Room4, ResourceManager.GetSprite("remodce.exit-door"));

            cheatMenu.AddButton($"Room 5", "Teleport to room", Room5, ResourceManager.GetSprite("remodce.exit-door"));

            cheatMenu.AddButton($"Room 6", "Teleport to room", Room6, ResourceManager.GetSprite("remodce.exit-door"));


            cheatMenu.AddButton($"VIP room", "Teleport to room",  VipRoom, ResourceManager.GetSprite("remodce.exit-door"));
        }

        public void Room1()
        {
            ReLogger.Msg("Teleported to room");
            ReModCE_ARES.LogDebug("Teleported to room");
            JustBCheat("Bedroom 1");
            VRCPlayer.field_Internal_Static_VRCPlayer_0.transform.position = new Vector3(-223.7f, -11.3f, 151.1f);
        }
        public void Room2()
        {
            ReLogger.Msg("Teleported to room");
            ReModCE_ARES.LogDebug("Teleported to room");
            JustBCheat("Bedroom 2");
            VRCPlayer.field_Internal_Static_VRCPlayer_0.transform.position = new Vector3(-211.2f, 55.7f, -91.3f);
        }

        public void Room3()
        {
            ReLogger.Msg("Teleported to room");
            ReModCE_ARES.LogDebug("Teleported to room");
            JustBCheat("Bedroom 3");
            VRCPlayer.field_Internal_Static_VRCPlayer_0.transform.position = new Vector3(-124.6f, -11.3f, 150.3f);
        }

        public void Room4()
        {
            ReLogger.Msg("Teleported to room");
            ReModCE_ARES.LogDebug("Teleported to room");
            JustBCheat("Bedroom 4");
            VRCPlayer.field_Internal_Static_VRCPlayer_0.transform.position = new Vector3(-111.3f, 55.7f, -90.5f);
        }

        public void Room5()
        {
            ReLogger.Msg("Teleported to room");
            ReModCE_ARES.LogDebug("Teleported to room");
            JustBCheat("Bedroom 5");
            VRCPlayer.field_Internal_Static_VRCPlayer_0.transform.position = new Vector3(-24.7f, -11.3f, 150.6f);
        }

        public void Room6()
        {
            ReLogger.Msg("Teleported to room");
            ReModCE_ARES.LogDebug("Teleported to room");
            JustBCheat("Bedroom 6");
            VRCPlayer.field_Internal_Static_VRCPlayer_0.transform.position = new Vector3(-11.3f, 55.7f, -90.5f);
        }

        public void VipRoom()
        {
            ReLogger.Msg("Teleported to room");
            ReModCE_ARES.LogDebug("Teleported to room");
            JustBCheat("Bedroom VIP");
            VRCPlayer.field_Internal_Static_VRCPlayer_0.transform.position = new Vector3(57.9796f, 62.8633f, 0.001f);
        }

        public void Blank()
        {
            ReLogger.Msg("");
            ReModCE_ARES.LogDebug("");
            JustBCheat("");
        }

        public static void JustBCheat(string gameObjectName)
        {
            if (!RoomManager.Method_Public_Static_String_0().Contains(""))
            {
                return;
            }
            foreach (GameObject gameObject in Resources.FindObjectsOfTypeAll<GameObject>())
            {
                bool roomActive = gameObject.name.Contains(gameObjectName);
                if (roomActive)
                {
                    gameObject.SetActive(true);
                }
            }
        }

    }
}
